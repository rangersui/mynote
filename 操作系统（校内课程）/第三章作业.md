# 第一题

假设一个系统中有5个进程,它们的到达时间和服务时间如表3-1所示,忽略I/O以及其他开销时间,若分别按先来先服务(FCFS)、非抢占及抢占的短作业优先 (SJF)、高响应比优先(HRRN)、时间片轮转(RR,时间片=1)、多级反馈队列调度算法(FB,第i级队列的时间片=2i-1)进行CPU调度,请给出各进程的完成时间、周转时间、带权周转时间、平均周转时间和平均带权周转时间。

| 进程 | 到达时间 | 服务时间 |
| ---- | -------- | -------- |
| A    | 0        | 3        |
| B    | 2        | 6        |
| C    | 4        | 4        |
| D    | 6        | 5        |
| E    | 8        | 2        |



| 时间片\\作业情况 | 进程名       | A    | B     | C    | D    | E    | 平均   |
| ---------------- | ------------ | ---- | ----- | ---- | ---- | ---- | ------ |
|                  | 到达时间     | 0    | 2     | 4    | 6    | 8    |        |
|                  | 服务时间     | 3    | 6     | 4    | 5    | 2    |        |
| FCFS             | 完成时间     | 3    | 9     | 13   | 18   | 20   |        |
|                  | 周转时间     | 3    | 7     | 9    | 12   | 12   | 8.6    |
|                  | 带权周转时间 | 1    | 1.167 | 2.25 | 2.4  | 6    | 2.5634 |
| SJF（非抢占）    | 完成时间     | 3    | 9     | 15   | 20   | 11   |        |
|                  | 周转时间     | 3    | 7     | 11   | 14   | 3    | 7.6    |
|                  | 带权周转时间 | 1    | 1.167 | 2.75 | 2.8  | 1.5  | 1.8434 |
| SJF（抢占式）    | 完成时间     | 3    | 15    | 8    | 20   | 10   |        |
|                  | 周转时间     | 3    | 13    | 4    | 14   | 2    | 7.2    |
|                  | 带权周转时间 | 1    | 2.167 | 1    | 2.8  | 1    | 1.5934 |
| HRRN             | 完成时间     | 3    | 9     | 13   | 20   | 15   |        |
|                  | 周转时间     | 3    | 7     | 9    | 14   | 7    | 8      |
|                  | 带权周转时间 | 1    | 1.167 | 2.25 | 2.8  | 3.5  | 2.1434 |
| RR q = 1         | 完成时间     | 4    | 18    | 17   | 20   | 15   |        |
|                  | 周转时间     | 4    | 16    | 13   | 14   | 7    | 10.8   |
|                  | 带权周转时间 | 1.33 | 2.67  | 3.25 | 2.8  | 3.5  | 2.71   |
| MLFQ             | 完成时间     | 4    | 18    | 15   | 20   | 16   |        |
|                  | 周转时间     | 4    | 16    | 11   | 14   | 8    | 10.6   |
|                  | 带权周转时间 | 1.33 | 2.67  | 2.75 | 2.8  | 4    | 2.71   |

RR : 

0. A

1. A

2. A B

3. B (A)

4. C B
5. B C
6. C D B
7. B C D
8. D E B C
9. C D E B
10. B C D E
11. E B C D
12. D E B C
13. C D E  B
14. B C D (E)
15. B C D
16. D B (C)
17. D (B)
18. D
19. (D)

MLFQ:

1. 1

2. 2  E(1)

3. 4 B(2) D(2)

# 第二题

设在t时刻，系统中有5个进程，三种资源A、B、C的使用情况如下表所示，设系统可供 

使用的空闲资源数为Available=2，2，1。若此时有以下三种不同的分配请求，请用银行家 

算法判断系统能否予以分配，并写出具体步骤。（注：以下各小题没有因果关系，每小题 

都以表中所示状态为当前状态） 

| 进程 | Max   | Need  |
| ---- | ----- | ----- |
|      | A B C | A B C |
| P0   | 1 3 3 | 1 2 2 |
| P1   | 3 2 2 | 2 2 1 |
| P2   | 2 2 1 | 2 1 1 |
| P3   | 2 0 2 | 1 0 1 |
| P4   | 2 4 3 | 2 3 3 |

## P3进程申请资源A、B、C分别为2、0、0，能否分配，为什么 

请求2、0、0，需求为1、0、1，请求的资源比需求的资源要多，不能分配。

## P1进程申请资源A、B、C分别为0、0、2，能否分配，为什么 

需求2、2、1，申请0、0、2，请求的资源比需求的资源更多，不能分配。

## P2进程申请资源A、B、C分别为1、1、1，能否分配，为什么 

请求1、1、1，需求2、1、1，小于需求，空闲资源2、2、1，足够分配

分配后空闲资源1、1、0

| 进程 | Max   | Need  |
| ---- | ----- | ----- |
| /    | A B C | A B C |
| P0   | 1 3 3 | 1 2 2 |
| P1   | 3 2 2 | 2 2 1 |
| P2   | 2 2 1 | 1 0 0 |
| P3   | 2 0 2 | 1 0 1 |
| P4   | 2 4 3 | 2 3 3 |

安全性算法：

| 进程/资源情况 | Max   | Need  | Allocation | Work+Allocation | Finish |
| ------------- | ----- | ----- | ---------- | --------------- | ------ |
| /             | A B C | A B C | A B C      | A B C           | /      |
| P2            | 2 2 1 | 1 0 0 | 1 2 1      | 2 3 1           | true   |
| P3            | 2 0 2 | 1 0 1 | 1 0 1      | 3 3 2           | true   |
| P0            | 1 3 3 | 1 2 2 | 0 1 1      | 3 4 3           | true   |
| P1            | 3 2 2 | 2 2 1 | 1 0 1      | 4 4 4           | true   |
| P4            | 2 4 3 | 2 3 3 | 0 1 0      | 4 5 4           | true   |

