

[toc]

# 开源代码软件的安装与升级

## 判断文件类型

linux系统上，一个文件是否能被执行主要取决于有没有可以执行的权限，不过Linux上真正识别的可执行文件其实是二进制程序。通过以下形式查看：

```bash
file /bin/bash #LSB shared objects
			   #能够装载在随即地址，防止缓冲区溢出攻击
file /bin/mtools #LSB executable
file /etc/init.d/network #ASCII text executable 可执行的脚本
```

## 什么是make与configure

对于类似内核的源代码，动辄数百MB，可以使用make命令的相关功能来进行编译过程的简化。

当执行make时，make会在当前目录下查找makefile这个文本文件，而makefile里面记录了源代码如何编译好的详细信息。make会自动判别源代码是否经过变动，自动更新执行文件。

通常来讲，软件开发商会写一个检测程序来检测用户的操作环境，以及该操作环境是否有软件开发商所需的其他功能，该检测程序检测完毕后，就会主动地建立这个Makefile规则文件，通常检测程序的文件名为configure或者是config。

检测操作环境的原因是虽然每个Linux发行版使用同样的内核，但不同版本的内核所使用的系统调用可能不一样，而且每个软件所需要依赖的函数库也不相同。一般来说检测以下内容：

- 是否有合适的编译器可以编译软件的程序代码

- 是否存在本软件所需要的函数库，或者其他需要的依赖软件

- 操作系统平台是否合适本软件，包括Linux的内核版本

- 内核的头文件是否存在（驱动程序必须要的检测）

  